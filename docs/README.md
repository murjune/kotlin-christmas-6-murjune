# 크리스마스 프로모션 이벤트 플래너

![](https://velog.velcdn.com/images/murjune/post/b3859fc8-7400-436d-8b0f-fc31b9efd93d/image.png)

## 소개

이 프로젝트는 2023.12.01 ~ 2023.12.31 동안 진행되는 `우테코 식당 이벤트 플래너`입니다.
사용자가 식당에 방문할 날짜와 메뉴를 미리 선택하면, 이벤트 플래너가 주문 메뉴와 주문 가격과 결제 금액과 더불어 프로모션이 적용된 상세한 내역을 보여주는 Kotlin 기반의 프로그램입니다.

이로써, 사용자는 방문할 날짜에 받을 수 있는 프로모션을 미리 확인할 수 있습니다.

## 프로젝트 구조

이 프로젝트는 크게 `Domain`-`View`-`Controller`-`Service`로 이루어져있고, MVC 패턴을 따른다.

### Domain

크게 아래와 같은 핵심 객체들이 있다.

- 주문(TotalOrder, Order) : 주문 객체
- 방문 날짜(VisitDate) : 방문할 날짜 객체
- 메뉴(Menu) : 식당의 메뉴 객체
- 메뉴판(MenuBoard) : 식당의 메뉴판 객체
- 할인(Discount) : 프로모션 기간 내 적용되는 할인 객체

### View

- OutView : 이벤트 플래너 내역을 보여준다
- InputView : 이벤트 플래너에 필요한 값을 사용자에게 받아온다.

### controller

Domain의 model들과 view가 협력하여 이벤트 플래너라는 협력이 진행되는 곳이다.

### Service

Service에서는 메뉴판(MenuBoard)에 등재될 메뉴(Menu)를 제공한다.

### 진행 시뮬레이션


1) 사용자가 `방문 날짜`와 `주문할 메뉴와 개수`를 입력한다.

> 만약 입력 양식에 맞지 않으면 다시 입력해야 한다.

2) 주문 메뉴를 출력한다.

3) 할인 전 총주문 금액을 출력한다.

4) 증정 메뉴가 있다면 출력한다.

5) 혜택 내역을 출력한다.
6) 총 혜택 내역을 출력한다.

7) 할인 후 예상 결제 금액을 출력한다

8) 이벤트 배지를 출력한다.


- 프로그램 진행 예시

```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
3
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
 
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개
 
<할인 전 총주문 금액>
142,000원
 
<증정 메뉴>
샴페인 1개
 
<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
 
<총혜택 금액>
-31,246원
 
<할인 후 예상 결제 금액>
135,754원
 
<12월 이벤트 배지>
산타
```

# 기능 목록

## Service

- [x] : 외부(Service) 에서 메뉴판의 메뉴를 넣어준다

## View

### Input

- [x] : 입력 받은 방문 날짜를 반환
- [x] : 입력 받은 order를 List형태로 반환

### Output

- [x] : 웰컴 가이드 출력
- [x] : 방문 날짜 가이드 출력
- [x] : 주문 가이드 출력
- [x] : 프로모션 가이드 출력
- [x] : 주문 메뉴 내역 출력
- [x] : 할인 전 총주문 금액 출력
- [x] : 증정 메뉴 출력
- [x] : 혜택 내역 출력
- [x] : 총 혜택 금액 출력
- [x] : 할인 후 예상 결제 금액 출력
- [x] : 이벤트 배지 출력

## Controller

- [x] : 사용자 입력 에러 시 다시 실행
- [x] : [ERROR] ... 다시 입력해 주세요. 형식의 에러메세지 발생
- [x] : 날짜 숫자 인지 검사
- [x] : 날짜 1 ~ 31 범위 검사
- [x] : 주문 금액(price) format 하기 (1000 -> 1,000)
- [x] : 총주문 금액이 12만 원 이상이면 샴페인(25,000) 증정
## domain

### 날짜

- [x] : 날짜, 숫자 1 ~ 31 Range 검사
- [x] : 숫자 인지 검사
- [x] : 오늘이 평일/주말인지 판단 가능
- [x] : 오늘이 특별 할인 받는 날인지 확인 가능
- [x] : 특정 day 가 지났는지 판단 가능

### 메뉴

### MenuBoard

- [x] : 메뉴 이름에 해당하는 메뉴를 찾을 수 있다
- [x] : 메뉴 이름에 해당하는 메뉴가 없으면 null

### Menu

- [x] : 메뉴는 이름, 가격, 종류로 이뤄져있다.
- [x] : count에 해당하는 가격을 반환한다.
- [x] : 제공되는 이름과 메뉴 이름이 일치하는지 확인한다.
- [x] : 제공되는 종류와 메뉴 종류가 일치하는지 확인한다.

### 주문

#### 총 주문 변환기(TotalOrdertransformor)

- [x] : order string -> TotalOrder 로 변환
- [x] : 메뉴와 개수가 - 로 구분되는지
- [x] : 메뉴판에 있는 메뉴인지
- [x] : 메뉴 개수가 숫자인지

#### 총 주문(TotalOrder)

- [x] : 주문 메뉴가 중복 x
- [x] : 주문 메뉴 counts <= 20
- [x] : 주문 메뉴가 전부 음료면 x
- [x] : 총 주문 금액 계산
- [x] : 증정품을 제공한다
- [x] : 총주문 금액 10,000원 이상부터 이벤트가 적용
- [x] : 메뉴 리스트로 변환 가능

#### 주문(Order)

- [x] : 주문 메뉴 개수가 1보다 큰 지
- [x] : 주문 메뉴의 가격을 계산한다
- [x] : 주문 메뉴를 리스트로 변환한다
- [x] : 주문 메뉴가 어떤 음식인지 확인 가능

#### 배지(Badge)

- [x] : 총혜택 금액에 따라 배지 증정
    - 5천 원 미만: 없음
    - 5천 원 이상: 별
    - 1만 원 이상: 트리
    - 2만 원 이상: 산타

#### 할인(Discount)
- [x]: 할인이 가능한지 확인
- [x]: 할인 혜택 금액 계산
#### 크리스마스 디데이 할인기

- [x] : 2023.12.1 ~ 2023.12.25 인지 확인
- [x] : 1,000원으로 시작하여 크리스마스가 다가올수록 날마다 할인 금액이 100원씩 증가
- [x] : 25일 지나면 0 원 할인

#### 일반 할인기

- [x] : 2023.12.1 ~ 2023.12.31 인지 확인
- [x] : 평일 할인(일 ~ 목): `디저트 메뉴` 개당 2,023원 할인
- [x] : 주말 할인(금, 토): `메인 메뉴` 개당 2,023원 할인

#### 특별 할인기

- [x] : 3, 10, 17, 24, 25, 31일, `총주문 금액`에서 1,000원 할인
